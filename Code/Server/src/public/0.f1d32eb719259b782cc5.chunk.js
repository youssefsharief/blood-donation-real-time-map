webpackJsonp([0],{"+ppD":function(n,e,t){"use strict";t.d(e,"a",function(){return r});var r=function(){function n(){}return n}()},JGoH:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var r=["@import url(https://js.arcgis.com/4.3/esri/css/main.css);.esri-view[_ngcontent-%COMP%]{height:1000px;width:100%}.loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:120px;height:120px;-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite;z-index:-1;margin:auto;top:300px;left:0;bottom:50px;right:0;position:absolute}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.icons[_ngcontent-%COMP%]{max-height:80px}.fa[_ngcontent-%COMP%]{font-size:75px;color:red}"]},"P+Nr":function(n,e,t){"use strict";t.d(e,"b",function(){return r}),t.d(e,"a",function(){return l});var r=[31.2,30],l=["esri/Map","esri/views/MapView","esri/widgets/Track","esri/widgets/Search","esri/geometry/support/webMercatorUtils","esri/layers/FeatureLayer","esri/tasks/Locator","esri/Graphic","esri/geometry/Point","esri/symbols/SimpleMarkerSymbol"]},V93t:function(n,e,t){"use strict";var r=t("/oeL"),l=t("jcdq");t.d(e,"b",function(){return i}),t.d(e,"a",function(){return o});var o=function(){function n(){}return n.prototype.isLoaded=function(){return t.i(l.a)()},n.prototype.load=function(n){return new Promise(function(e,r){t.i(l.a)()&&e(l.b),t.i(l.c)(function(n){n?r(n):e(l.b)},n)})},n.prototype.loadModules=function(n){return new Promise(function(e){t.i(l.b)(n,function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];e(n)})})},n.prototype.require=function(n,e){return t.i(l.b)(n,e)},n}();o.decorators=[{type:r.W}],o.ctorParameters=function(){return[]};var i=function(){function n(){}return n}();i.decorators=[{type:r.N,args:[{providers:[o]}]}],i.ctorParameters=function(){return[]}},az1m:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("/oeL"),l=t("+ppD"),o=t("ecGQ"),i=t("v6Q/"),u=t("qbdv"),a=t("bm2B"),d=t("CPp0"),c=t("UPmf"),s=t("fc+i"),f=t("JYHx"),p=t("vVgA"),h=t("z1Gz"),m=t("Z04r"),v=t("f3MN"),b=t("dGUy"),_=t("V93t"),g=t("BkNc"),w=t("lqfG"),y=t("mSH7"),P=t("d8q7"),N=t("T2Au"),S=t("c9U4");t.d(e,"EsriMapModuleNgFactory",function(){return k});var k=r.b(l.a,[],function(n){return r.c([r.d(512,r.e,r.f,[[8,[o.a,i.a,i.b,i.c,i.d,i.e]],[3,r.e],r.g]),r.d(4608,u.a,u.b,[r.h]),r.d(4608,a.a,a.a,[]),r.d(4608,a.b,a.b,[]),r.d(4608,d.a,d.a,[]),r.d(4608,d.b,d.c,[]),r.d(5120,d.d,d.e,[]),r.d(4608,d.f,d.f,[d.a,d.b,d.d]),r.d(4608,d.g,d.h,[]),r.d(5120,d.i,d.j,[d.f,d.g]),r.d(6144,c.a,null,[s.o]),r.d(4608,c.b,c.b,[[2,c.a]]),r.d(4608,f.a,f.a,[]),r.d(5120,p.a,p.b,[[3,p.a],r.q,f.a]),r.d(5120,p.c,p.d,[[3,p.c],p.a]),r.d(4608,h.a,h.a,[p.a,p.c]),r.d(5120,h.b,h.c,[[3,h.b]]),r.d(4608,h.d,h.d,[p.c]),r.d(4608,h.e,h.e,[h.a,h.b,r.e,h.d,r.t,r.u,r.q]),r.d(5120,h.f,h.g,[h.e]),r.d(5120,m.b,m.c,[h.e]),r.d(5120,m.d,m.e,[[3,m.d],r.q,f.a]),r.d(5120,m.f,m.g,[[3,m.f]]),r.d(4608,v.a,v.a,[]),r.d(4608,b.a,b.a,[f.a]),r.d(4608,b.b,b.b,[b.a,f.a,r.q]),r.d(5120,b.c,b.d,[[3,b.c],[2,b.e],f.a]),r.d(5120,m.h,m.i,[h.e]),r.d(4608,m.j,m.j,[h.e,r.u,m.h,[2,u.d],[3,m.j]]),r.d(5120,m.k,m.l,[[3,m.k],[2,d.i],s.b]),r.d(4608,m.m,m.m,[]),r.d(5120,m.n,m.o,[h.e]),r.d(5120,m.p,m.q,[h.e]),r.d(5120,m.r,m.s,[h.e]),r.d(5120,m.t,m.u,[h.e]),r.d(4608,m.v,m.v,[]),r.d(4608,s.d,m.a,[]),r.d(4608,m.w,m.w,[h.e,b.c,r.u,[3,m.w]]),r.d(4608,m.x,m.x,[]),r.d(4608,_.a,_.a,[]),r.d(512,g.x,g.x,[[2,g.m],[2,g.c]]),r.d(512,w.a,w.a,[]),r.d(512,u.e,u.e,[]),r.d(512,a.c,a.c,[]),r.d(512,a.d,a.d,[]),r.d(512,a.e,a.e,[]),r.d(512,d.k,d.k,[]),r.d(512,m.y,m.y,[]),r.d(512,c.c,c.c,[]),r.d(256,m.z,!0,[]),r.d(512,m.A,m.A,[[2,s.o],[2,m.z]]),r.d(512,f.b,f.b,[]),r.d(512,p.e,p.e,[]),r.d(512,m.B,m.B,[]),r.d(512,m.C,m.C,[]),r.d(512,m.D,m.D,[]),r.d(512,y.a,y.a,[]),r.d(512,h.h,h.h,[]),r.d(512,m.E,m.E,[]),r.d(512,m.F,m.F,[]),r.d(512,m.G,m.G,[]),r.d(512,m.H,m.H,[]),r.d(512,m.I,m.I,[]),r.d(512,m.J,m.J,[]),r.d(512,v.b,v.b,[]),r.d(512,m.K,m.K,[]),r.d(512,b.f,b.f,[]),r.d(512,m.L,m.L,[]),r.d(512,m.M,m.M,[]),r.d(512,m.N,m.N,[]),r.d(512,P.a,P.a,[]),r.d(512,m.O,m.O,[]),r.d(512,m.P,m.P,[]),r.d(512,m.Q,m.Q,[]),r.d(512,m.R,m.R,[]),r.d(512,m.S,m.S,[]),r.d(512,m.T,m.T,[]),r.d(512,m.U,m.U,[]),r.d(512,m.V,m.V,[]),r.d(512,m.W,m.W,[]),r.d(512,m.X,m.X,[]),r.d(512,m.Y,m.Y,[]),r.d(512,m.Z,m.Z,[]),r.d(512,m._0,m._0,[]),r.d(512,m._1,m._1,[]),r.d(512,m._2,m._2,[]),r.d(512,m._3,m._3,[]),r.d(512,m._4,m._4,[]),r.d(512,m._5,m._5,[]),r.d(512,m._6,m._6,[]),r.d(512,m._7,m._7,[]),r.d(512,m._8,m._8,[]),r.d(512,m._9,m._9,[]),r.d(512,N.a,N.a,[]),r.d(512,_.b,_.b,[]),r.d(512,l.a,l.a,[]),r.d(1024,g.t,function(){return[[{path:"",component:S.a}]]},[]),r.d(256,m._10,{overlapTrigger:!0,xPosition:"after",yPosition:"below"},[])])})},c9U4:function(n,e,t){"use strict";var r=t("mSFe"),l=t("V93t"),o=t("n/6r"),i=t("9ilZ"),u=t("uk91"),a=t("P+Nr"),d=t("N+dP"),c=t("BkNc");t.d(e,"a",function(){return s});var s=function(){function n(n,e,t,r,l){this.esriLoader=n,this.dataService=e,this.graphicsService=t,this.router=r,this.infoService=l}return n.prototype.ngOnInit=function(){this.loadMap()},n.prototype.loadMap=function(){var n=this,e=this;return this.esriLoader.load({url:"https://js.arcgis.com/4.4/"}).then(function(){n.esriLoader.loadModules(a.a).then(function(r){var l=r[0],i=r[1],d=r[2],c=r[3],s=(r[4],r[5],r[6]),f=r[7],p=r[8],h=r[9],m=new l({basemap:"streets-navigation-vector"}),v=new i({container:n.mapViewEl.nativeElement,map:m,center:a.b,zoom:10});n.dataService.nearbyDonorsSubscription.subscribe(function(e){return n.graphicsService.setGraphicsFromData(v,h,p,f,e)},function(n){return console.log("Problem with socket connector")});var b=new s({url:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"}),_=function(){return e.dataService.getNearbyDonors(v.center.longitude,v.center.latitude)},g=new d({view:v}),w=new c({view:v});t.i(o.a)(v,g,w),v.on("drag",t.i(u.a)(_,25)),v.on("mouse-wheel",t.i(u.a)(_,25)),v.on("hold",t.i(u.a)(_,25)),v.on("double-click",function(n){n.stopPropagation();var t=n.mapPoint.longitude,r=n.mapPoint.latitude,l="none";b.locationToAddress(n.mapPoint).then(function(t){l=t.address,e.graphicsService.showAddingPopup(v,n.mapPoint,l)}).otherwise(function(t){e.graphicsService.showAddingPopup(v,n.mapPoint)}),v.popup.on("trigger-action",function(n){"show-add-modal"===n.action.id&&(e.infoService.saveLocation(t,r,l),e.router.navigate(["/posting"]))})}),v.popup.on("trigger-action",function(n){"show-hidden"===n.action.id&&t.i(u.b)(v)}),v.then(function(n){_()})})})},n.ctorParameters=function(){return[{type:l.a},{type:i.a},{type:d.a},{type:c.c},{type:r.a}]},n}()},ecGQ:function(n,e,t){"use strict";function r(n){return i._13(0,[i._27(402653184,1,{mapViewEl:0}),(n()(),i._14(0,null,null,32,"div",[["class","container"]],null,null,null,null,null)),(n()(),i._15(null,["\n    "])),(n()(),i._14(0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(n()(),i._15(null,["\n        "])),(n()(),i._14(0,null,null,9,"div",[["class","col-md-6 text-center"]],null,null,null,null,null)),(n()(),i._15(null,["\n            "])),(n()(),i._14(0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-heartbeat"]],null,null,null,null,null)),(n()(),i._15(null,["\n\n            "])),(n()(),i._14(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),i._15(null,[" For Patients"])),(n()(),i._15(null,["\n\n            "])),(n()(),i._14(0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(n()(),i._15(null,['Click on the red spots to get info of donors near you and then press on "Show phone and email" to contact them'])),(n()(),i._15(null,["\n        "])),(n()(),i._15(null,["\n\n\n        "])),(n()(),i._14(0,null,null,9,"div",[["class","col-md-6 text-center"]],null,null,null,null,null)),(n()(),i._15(null,["\n            "])),(n()(),i._14(0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-heart-o"]],null,null,null,null,null)),(n()(),i._15(null,["\n\n            "])),(n()(),i._14(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),i._15(null,[" For Donors"])),(n()(),i._15(null,["\n\n            "])),(n()(),i._14(0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(n()(),i._15(null,['Chose your location by double-clicking on the map, then press "Confirm Location" '])),(n()(),i._15(null,["\n        "])),(n()(),i._15(null,["\n\n\n\n        "])),(n()(),i._15(null,["\n\n\n    "])),(n()(),i._15(null,["\n    "])),(n()(),i._14(0,[[1,0],["mapViewNode",1]],null,3,"div",[],null,null,null,null,null)),(n()(),i._15(null,["\n        "])),(n()(),i._14(0,null,null,0,"div",[["class","loader"]],null,null,null,null,null)),(n()(),i._15(null,["\n\n    "])),(n()(),i._15(null,["\n"])),(n()(),i._15(null,["\n\n"]))],null,null)}function l(n){return i._13(0,[(n()(),i._14(0,null,null,1,"esri-map",[],null,null,null,r,h)),i._16(114688,null,0,u.a,[a.a,d.a,c.a,s.c,f.a],null,null)],function(n,e){n(e,1,0)},null)}var o=t("JGoH"),i=t("/oeL"),u=t("c9U4"),a=t("V93t"),d=t("9ilZ"),c=t("N+dP"),s=t("BkNc"),f=t("mSFe");t.d(e,"a",function(){return m});var p=[o.a],h=i._12({encapsulation:0,styles:p,data:{}}),m=i._21("esri-map",u.a,l,{},{},[])},jcdq:function(n,e,t){"use strict";function r(){return document.querySelector("script[data-esri-loader]")}function l(){return void 0!==window.require&&r()}function o(n,e){if(void 0===e&&(e={}),e.url||(e.url="https://js.arcgis.com/4.4/"),r())return void n(new Error("The ArcGIS API for JavaScript is already loaded."));var t=document.createElement("script");t.type="text/javascript",t.src=e.url,t.dataset.esriLoader="loading",t.onload=function(){t.dataset.esriLoader="loaded";var e=window.require;n&&n(null,e)},document.body.appendChild(t)}function i(n,e){if(l())window.require(n,e);else{var t=r();if(!t)throw new Error("The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()");var o=function(){window.require(n,e),t.removeEventListener("load",o,!1)};t.addEventListener("load",o)}}e.a=l,e.c=o,e.b=i},lqfG:function(n,e,t){"use strict";var r=t("c9U4");t.d(e,"a",function(){return l});var l=(r.a,function(){function n(){}return n}())},"n/6r":function(n,e,t){"use strict";function r(n,e,t){n.ui.add(e,"top-left"),n.ui.add(t,{position:"top-left",index:2})}e.a=r},uk91:function(n,e,t){"use strict";function r(n,e,t){var r;return function(){var l=this,o=arguments,i=function(){r=null,t||n.apply(l,o)},u=t&&!r;clearTimeout(r),r=setTimeout(i,e),u&&n.apply(l,o)}}function l(n){var e=document.querySelector(".esri-popup-renderer").childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0],t=e.childNodes[3].childNodes[1].childNodes[0].attributes.data.value,r=e.childNodes[4].childNodes[1].childNodes[0].attributes.data.value,l=e.childNodes[3].childNodes[1].childNodes[0];l.innerText=t,l=e.childNodes[4].childNodes[1].childNodes[0],l.innerText=r}e.a=r,e.b=l}});